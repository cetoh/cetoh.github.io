<!DOCTYPE html>
<html lang="en">
<!--
Page    : index / MobApp
Version : 1.0
Author  : Colorlib
URI     : https://colorlib.com
 -->

<head>
    <title>Talks With Toh</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Podcast With Chris Toh">
    <meta name="keywords" content="HTML5, bootstrap, mobile, app, landing, ios, android, responsive">

    <!-- Font -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Themify Icons -->
    <link rel="stylesheet" href="css/themify-icons.css">
    <!-- Owl carousel -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <!-- Main css -->
    <link href="css/style.css" rel="stylesheet">
</head>
  <body data-spy="scroll" data-target="#navbar" data-offset="30">
    <h1>Number guessing game</h1>

    <p>We have selected a random number between 1 and 100. See if you can guess it in 10 turns or fewer. We'll tell you if your guess was too high or too low.</p>

    <div class="container">
      <label for="guessField">Enter a guess: </label><input type="text" id="guessField" class="guessField">
      <input type="submit" value="Submit guess" class="guessSubmit">
    </div>

    <div class="section">
      <p class="guesses"></p>
      <p class="lastResult"></p>
      <p class="lowOrHi"></p>
    </div>

    <script>
      	var randomNumber = Math.floor(Math.random() * 100) + 1;

		const guesses = document.querySelector('.guesses');
		const lastResult = document.querySelector('.lastResult');
		const lowOrHi = document.querySelector('.lowOrHi');

		const guessSubmit = document.querySelector('.guessSubmit');
		const guessField = document.querySelector('.guessField');

		var guessCount = 1;
		var resetButton;
		
		function checkGuess() {
  			var userGuess = Number(guessField.value);
 	 		if (guessCount === 1) {
    			guesses.textContent = 'Previous guesses: ';
  			}
  			guesses.textContent += userGuess + ' ';
 
  			if (userGuess === randomNumber) {
    			lastResult.textContent = 'Congratulations! You got it right!';
    			lastResult.style.backgroundColor = 'green';
    			lowOrHi.textContent = '';
    			setGameOver();
  			} else if (guessCount === 10) {
    			lastResult.textContent = '!!!GAME OVER!!!';
    			setGameOver();
  			} else {
    			lastResult.textContent = 'Wrong!';
    			lastResult.style.backgroundColor = 'red';
    			if(userGuess < randomNumber) {
      				lowOrHi.textContent = 'Last guess was too low!';
    			} else if(userGuess > randomNumber) {
     				lowOrHi.textContent = 'Last guess was too high!';
    			}
  			}
 
  			guessCount++;
  			guessField.value = '';
  			guessField.focus();
		}
		
		guessSubmit.addEventListener('click', checkGuess);
		
		function setGameOver() {
  			guessField.disabled = true;
  			guessSubmit.disabled = true;
  			resetButton = document.createElement('button');
  			resetButton.textContent = 'Start new game';
  			document.body.appendChild(resetButton);
  			resetButton.addEventListener('click', resetGame);
		}
		
		function resetGame() {
			  guessCount = 1;
			
			  const resetParas = document.querySelectorAll('.section p');
			  for (var i = 0 ; i < resetParas.length ; i++) {
				resetParas[i].textContent = '';
			  }
			
			  resetButton.parentNode.removeChild(resetButton);
			
			  guessField.disabled = false;
			  guessSubmit.disabled = false;
			  guessField.value = '';
			  guessField.focus();
			
			  lastResult.style.backgroundColor = 'white';
			
			  randomNumber = Math.floor(Math.random() * 100) + 1;
		}
    </script>
  </body>
</html>